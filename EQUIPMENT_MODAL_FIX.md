# ุชุตุญูุญ ูุดููุฉ ุงุฎุชูุงุฑ ุงููุนุฏุงุช ุงูููุฌูุฏุฉ ๐ง

## ุงููุดููุฉ ๐ด

ุนูุฏ ูุญุงููุฉ ูุชุญ modal ูุงุฎุชูุงุฑ ูุนุฏุฉ ููุฌูุฏุฉ ุนูู ุตูุญุฉ ุงููููุนุ ูุธูุฑ ุงูุฎุทุฃ:

```
ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู
```

## ุงูุณุจุจ ๐ฏ

1. **ูุดููุฉ Middleware**: ุงูู route `/api/equipment/available-for-location` ูุงู ูุญูู ุจู middleware `auth` ุจุฏูู ูุนุงูุฌุฉ ุตุฑูุญุฉ ูู API requests
2. **ุนุฏู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**: ุงูู JavaScript ูุงู ูุง ูุชุนุงูู ุจุดูู ุตุญูุญ ูุน ุญุงูุงุช ุงูู authentication errors
3. **ููุฏุงู headers**: ุงูู request ูุงู ูููุตูุง ุจุนุถ headers ุงููููุฉ ููู authentication

## ุงูุญู โ

### 1. ุชุญุฏูุซ ุงูู Route (routes/web.php)

```php
// ูุจู:
Route::prefix('api/equipment')->group(function () {
    Route::get('/available-for-location', ...);
});

// ุจุนุฏ:
Route::prefix('api/equipment')->middleware(['auth:sanctum'])->group(function () {
    Route::get('/available-for-location', ...);
});
```

### 2. ุชุญุณูู ุงูู Controller (EquipmentController.php)

```php
// ุฅุถุงูุฉ ูุญุต ุตุฑูุญ ููู authentication
if (!Auth::check()) {
    return response()->json([
        'error' => 'ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ',
        'message' => 'ูุฑุฌู ุชุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู'
    ], 401);
}
```

### 3. ุชุญุณูู ุงูู JavaScript (locations/show.blade.php)

-   ุฅุถุงูุฉ headers ูููุฉ:
    -   `'Accept': 'application/json'`
    -   `'credentials': 'include'` (ููู cookie-based authentication)
-   ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:
    -   ุงูุชุนุงูู ูุน 401 Unauthorized
    -   ุงูุชุนุงูู ูุน 403 Forbidden
    -   ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ูุจุงูุนุฑุจูุฉ
    -   ุฃุฒุฑุงุฑ ุฅุฌุฑุงุก ููุงุณุจุฉ (ุชุณุฌูู ุฏุฎูู ุฃู ุฅุนุงุฏุฉ ูุญุงููุฉ)

## ุงููููุงุช ุงููุนุฏูููุฉ ๐

1. โ `routes/web.php` - ุชุญุฏูุซ middleware ููู API route
2. โ `app/Http/Controllers/EquipmentController.php` - ุฅุถุงูุฉ ูุญุต authentication ูุชุญุณูู responses
3. โ `resources/views/locations/show.blade.php` - ุชุญุณูู fetch request ููุนุงูุฌุฉ ุงูุฃุฎุทุงุก

## ุงูุฎุทูุงุช ุงูุงุฎุชุจุงุฑูุฉ ๐งช

1. ุงุฐูุจ ุฅูู ุตูุญุฉ ูููุน: `http://127.0.0.1:8000/locations/4`
2. ุงุถุบุท ุนูู ุฒุฑ "ุฅุถุงูุฉ ูุนุฏุฉ ููุฐุง ุงููููุน"
3. ุงุฎุชุฑ "ูุนุฏุฉ ููุฌูุฏุฉ"
4. ุชุญูู ูู ุธููุฑ ูุงุฆูุฉ ุงููุนุฏุงุช ุจุฏูู ุฃุฎุทุงุก
5. ุงุจุญุซ ุนู ูุนุฏุฉ ูุญุฏุฏูุง

## ุงููุชูุฌุฉ ุงููุชููุนุฉ ๐

-   โ ูุชู ุชุญููู ูุงุฆูุฉ ุงููุนุฏุงุช ุจุฏูู ุฃุฎุทุงุก
-   โ ุชุธูุฑ ุฌููุน ุงููุนุฏุงุช ุงููุชุงุญุฉ ูุน ุชูุงุตูููุง
-   โ ูููู ุงุฎุชูุงุฑ ูุชุญุฏูุฏ ุฃู ูุนุฏุฉ
-   โ ูู ุญุงูุฉ ุงูุชูุงุก ุงูุฌูุณุฉุ ุชุธูุฑ ุฑุณุงูุฉ ูุงุถุญุฉ ูุน ุฒุฑ ุชุณุฌูู ุฏุฎูู

## ููุงุญุธุงุช ุฅุถุงููุฉ ๐

-   ุงูู API endpoint ูุชุทูุจ user ูุณุฌู ุงูุฏุฎูู
-   ูุชู ุงุณุชุจุนุงุฏ ุงููุนุฏุงุช ุงููุนุทูุฉ (out_of_order status) ุชููุงุฆูุงู
-   ูุชู ุชุฑุชูุจ ุงููุนุฏุงุช ุญุณุจ ุงูุงุณู ุชุตุงุนุฏูุงู
-   ูุชู ุชุญููู ูุนูููุงุช ุงููููุน ุงูุญุงูู ูููุนุฏุฉ ุฅู ูุฌุฏุช
